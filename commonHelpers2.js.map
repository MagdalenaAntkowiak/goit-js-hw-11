{"version":3,"file":"commonHelpers2.js","sources":["../src/main.js"],"sourcesContent":["import iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\nimport SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n\nconst API_KEY = '45147118-3a4bc08e8d7fb4b6ec64761bc';\nconst BASE_URL = 'https://pixabay.com/api/';\n\nasync function fetchImages(query) {\n  const response = await fetch(\n    `${BASE_URL}?key=${API_KEY}&q=${query}&image_type=photo&orientation=horizontal&safesearch=true`\n  );\n  const data = await response.json();\n  return data.hits;\n}\n\nconst form = document.querySelector('#search-form');\nconst gallery = document.querySelector('#gallery');\nconst loader = document.querySelector('#loader');\n\nform.addEventListener('submit', event => {\n  event.preventDefault();\n  const query = event.target.elements.query.value;\n  gallery.innerHTML = '';\n  loader.style.display = 'block';\n\n  fetchImages(query)\n    .then(images => {\n      loader.style.display = 'none';\n      if (images.length === 0) {\n        iziToast.error({\n          title: 'Error',\n          message:\n            'Sorry, there are no images matching your search query. Please try again!',\n          position: 'center',\n        });\n        return;\n      }\n\n      const markup = images\n        .map(\n          ({\n            webformatURL,\n            largeImageURL,\n            tags,\n            likes,\n            views,\n            comments,\n            downloads,\n          }) => `\n        <li>\n          <a href=\"${largeImageURL}\">\n            <img src=\"${webformatURL}\" alt=\"${tags}\" />\n          </a>\n          <div class=\"image-info\">\n            <div class=\"info-item\"><span class=\"label\">Likes:</span> ${likes}</div>\n            <div class=\"info-item\"><span class=\"label\">Views:</span> ${views}</div>\n            <div class=\"info-item\"><span class=\"label\">Comments:</span>${comments}</div>\n            <div class=\"info-item\"><span class=\"label\">Downloads:</span>${downloads}</div>\n          </div>\n        </li>\n      `\n        )\n        .join('');\n      gallery.insertAdjacentHTML('beforeend', markup);\n\n      new SimpleLightbox('.gallery a', {\n        captionsData: 'alt',\n        captionDelay: 250,\n      }).refresh();\n    })\n    .catch(error => {\n      loader.style.display = 'none';\n      iziToast.error({\n        title: 'Error',\n        message:\n          'Sorry, there are no images matching your search query. Please try again!',\n        position: 'topRight',\n      });\n      console.error(error);\n    });\n});\n"],"names":["API_KEY","BASE_URL","fetchImages","query","form","gallery","loader","event","images","iziToast","markup","webformatURL","largeImageURL","tags","likes","views","comments","downloads","SimpleLightbox","error"],"mappings":"6vBAKA,MAAMA,EAAU,qCACVC,EAAW,2BAEjB,eAAeC,EAAYC,EAAO,CAKhC,OADa,MAHI,MAAM,MACrB,GAAGF,CAAQ,QAAQD,CAAO,MAAMG,CAAK,0DACzC,GAC8B,QAChB,IACd,CAEA,MAAMC,EAAO,SAAS,cAAc,cAAc,EAC5CC,EAAU,SAAS,cAAc,UAAU,EAC3CC,EAAS,SAAS,cAAc,SAAS,EAE/CF,EAAK,iBAAiB,SAAUG,GAAS,CACvCA,EAAM,eAAc,EACpB,MAAMJ,EAAQI,EAAM,OAAO,SAAS,MAAM,MAC1CF,EAAQ,UAAY,GACpBC,EAAO,MAAM,QAAU,QAEvBJ,EAAYC,CAAK,EACd,KAAKK,GAAU,CAEd,GADAF,EAAO,MAAM,QAAU,OACnBE,EAAO,SAAW,EAAG,CACvBC,EAAS,MAAM,CACb,MAAO,QACP,QACE,2EACF,SAAU,QACpB,CAAS,EACD,MACD,CAED,MAAMC,EAASF,EACZ,IACC,CAAC,CACC,aAAAG,EACA,cAAAC,EACA,KAAAC,EACA,MAAAC,EACA,MAAAC,EACA,SAAAC,EACA,UAAAC,CACZ,IAAgB;AAAA;AAAA,qBAEKL,CAAa;AAAA,wBACVD,CAAY,UAAUE,CAAI;AAAA;AAAA;AAAA,uEAGqBC,CAAK;AAAA,uEACLC,CAAK;AAAA,yEACHC,CAAQ;AAAA,0EACPC,CAAS;AAAA;AAAA;AAAA,OAI1E,EACA,KAAK,EAAE,EACVZ,EAAQ,mBAAmB,YAAaK,CAAM,EAE9C,IAAIQ,EAAe,aAAc,CAC/B,aAAc,MACd,aAAc,GACtB,CAAO,EAAE,QAAO,CAChB,CAAK,EACA,MAAMC,GAAS,CACdb,EAAO,MAAM,QAAU,OACvBG,EAAS,MAAM,CACb,MAAO,QACP,QACE,2EACF,SAAU,UAClB,CAAO,EACD,QAAQ,MAAMU,CAAK,CACzB,CAAK,CACL,CAAC"}